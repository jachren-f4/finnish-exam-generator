{"success":true,"data":{"metadata":{"processingTime":17434,"geminiProcessingTime":11921,"imageCount":12,"promptUsed":"SYSTEM INSTRUCTION (prepend this before any user content):\nYou must treat the uploaded textbook images as your *only factual source*.\nUse only facts visible in those images. Do not invent, guess, or rely on external knowledge.\nIf something is missing, omit it. All output must be consistent with the textbook only.\n\n---\n\n## üéì Task\nCreate a **history exam for grade 8 students** based *only* on the uploaded textbook pages.\n\n---\n\n## üéØ RULES\n\n### 1Ô∏è‚É£ Question Counts (exact)\n- 2 terminology questions (\"What does X mean?\")\n- 6 event questions (\"What happened? When? Where?\")\n- 4 cause/consequence questions (\"Why? What resulted?\")\n- 3 people questions (\"Who? What did they do?\")\n‚Üí Total = 15 questions\n\n### 2Ô∏è‚É£ Grounding\n- Every fact must appear in the textbook.\n- If unsure, skip it ‚Äî never invent.\n- Timeline dates ‚Üí ask only about that exact event.\n\n### 3Ô∏è‚É£ Language\n- Auto-detect textbook language and use it everywhere.\n- No translation, no mixing.\n\n### 4Ô∏è‚É£ Style\n- Write like a teacher talking to students.\n- Never mention \"the text\", \"material\", or \"chapter\".\n- Natural tone, short and clear sentences.\n\n### 5Ô∏è‚É£ Terminology Rule\n- Only ask meanings of *specialized historical terms* (e.g. hyperinflation, civil war).\n- Never ask about common words (independence, democracy, war, peace).\n\n### 6Ô∏è‚É£ Validation\n- Exactly 2 terminology questions.\n- No generic vocabulary or invented names.\n- All 15 questions grounded, clear, and answerable from the pages.\n\n---\n\n## üß© JSON OUTPUT\n\n{\n  \"questions\": [\n    {\n      \"id\": 1,\n      \"type\": \"multiple_choice\",\n      \"question\": \"[Natural question in source language]\",\n      \"options\": [\"A\", \"B\", \"C\", \"D\"],\n      \"correct_answer\": \"[Exact match from options]\",\n      \"explanation\": \"[1‚Äì2 sentences, factual and concise]\"\n    }\n  ],\n  \"summary\": {\n    \"introduction\": \"[100‚Äì200 words ‚Äì introduce the historical topic from the text]\",\n    \"key_concepts\": \"[250‚Äì400 words ‚Äì main events, causes, results]\",\n    \"examples_and_applications\": \"[150‚Äì250 words ‚Äì help students understand significance]\",\n    \"summary_conclusion\": \"[80‚Äì150 words ‚Äì wrap up clearly]\",\n    \"total_word_count\": [number],\n    \"language\": \"[ISO 639-1 code]\"\n  }\n}\n\n---\n\n## ‚ö†Ô∏è FINAL CHECKLIST\n‚úÖ 15 total questions\n‚úÖ 2 terminology exactly\n‚úÖ No \"material/text\" references\n‚úÖ No invented facts or external info\n‚úÖ All in one language\n‚úÖ Natural, student-friendly phrasing","processingMode":"legacy","geminiUsage":{"promptTokenCount":3749,"candidatesTokenCount":3164,"totalTokenCount":6913,"estimatedCost":0.0016405000000000002,"inputCost":0.00037490000000000006,"outputCost":0.0012656000000000002,"model":"gemini-2.5-flash-lite"},"performanceBreakdown":[{"name":"File Processing","duration":16,"percentage":0},{"name":"ExamGenie Exam Creation","duration":692,"percentage":4},{"name":"File Cleanup","duration":2,"percentage":0}]}},"metadata":{"timestamp":"2025-10-19T10:30:45.095Z","requestId":"0779f973-f425-4d58-91d2-08310c54ce2f","processingTime":17434},"exam_url":"https://exam-generator-staging.vercel.app/exam/53aabd84-f992-40aa-9cab-d01ce81934d5","exam_id":"53aabd84-f992-40aa-9cab-d01ce81934d5","grading_url":"https://exam-generator-staging.vercel.app/grading/53aabd84-f992-40aa-9cab-d01ce81934d5"}
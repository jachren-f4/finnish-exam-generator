{"success":true,"data":{"metadata":{"processingTime":19666,"geminiProcessingTime":11822,"imageCount":12,"promptUsed":"SYSTEM INSTRUCTION (prepend this before any user content):\nYou must treat the uploaded textbook images as your *only factual source*.\nUse only facts visible in those images. Do not invent, guess, or rely on external knowledge.\nIf something is missing, omit it. All output must be consistent with the textbook only.\n\n---\n\n## üéì Task\nCreate a **history exam for grade 8 students** based *only* on the uploaded textbook pages.\n\n---\n\n## üéØ RULES\n\n### 1Ô∏è‚É£ Question Counts (exact)\n- 2 terminology questions (\"What does X mean?\")\n- 6 event questions (\"What happened? When? Where?\")\n- 4 cause/consequence questions (\"Why? What resulted?\")\n- 3 people questions (\"Who? What did they do?\")\n‚Üí Total = 15 questions\n\n### üîí VISUAL CONFIRMATION RULE\n- Only use names, dates, or events that you see in the textbook images.\n- If a fact is true in history but not visible, do not include it.\n- Example: If the page shows \"Finland became independent in 1917\" but does not name a president, you cannot ask who was president in 1918.\n- Example: If the page shows \"Herbert Hoover\" but not the 1929 crash, do not connect Hoover to it.\n- Always double-check that each question's topic appears visibly in the text or timeline.\n\n### 2Ô∏è‚É£ Grounding\n- Every fact must appear in the textbook.\n- If unsure, skip it ‚Äî never invent.\n- Timeline dates ‚Üí ask only about that exact event.\n\n### 3Ô∏è‚É£ Language\n- Auto-detect textbook language and use it everywhere.\n- No translation, no mixing.\n\n### 4Ô∏è‚É£ Style\n- Write like a teacher talking to students.\n- Never mention \"the text\", \"material\", or \"chapter\".\n- Natural tone, short and clear sentences.\n\n### 5Ô∏è‚É£ Terminology Rule\n- Only ask meanings of *specialized historical terms* (e.g. hyperinflation, civil war).\n- Never ask about common words (independence, democracy, war, peace).\n\n### 6Ô∏è‚É£ Validation\n- Exactly 2 terminology questions.\n- No generic vocabulary or invented names.\n- All 15 questions grounded, clear, and answerable from the pages.\n- Double-check: each question must mention at least one word, date, or name that appears verbatim in the textbook text or timeline.\n- If not, delete or rewrite the question.\n\n---\n\n## üß© JSON OUTPUT\n\n{\n  \"questions\": [\n    {\n      \"id\": 1,\n      \"type\": \"multiple_choice\",\n      \"question\": \"[Natural question in source language]\",\n      \"options\": [\"A\", \"B\", \"C\", \"D\"],\n      \"correct_answer\": \"[Exact match from options]\",\n      \"explanation\": \"[1‚Äì2 sentences, factual and concise]\"\n    }\n  ],\n  \"summary\": {\n    \"introduction\": \"[100‚Äì200 words ‚Äì introduce the historical topic from the text]\",\n    \"key_concepts\": \"[250‚Äì400 words ‚Äì main events, causes, results]\",\n    \"examples_and_applications\": \"[150‚Äì250 words ‚Äì help students understand significance]\",\n    \"summary_conclusion\": \"[80‚Äì150 words ‚Äì wrap up clearly]\",\n    \"total_word_count\": [number],\n    \"language\": \"[ISO 639-1 code]\"\n  }\n}\n\n---\n\n## ‚ö†Ô∏è FINAL CHECKLIST\n‚úÖ 15 total questions\n‚úÖ 2 terminology exactly\n‚úÖ No \"material/text\" references\n‚úÖ No invented facts or external info\n‚úÖ All in one language\n‚úÖ Natural, student-friendly phrasing","processingMode":"legacy","geminiUsage":{"promptTokenCount":3923,"candidatesTokenCount":3298,"totalTokenCount":7221,"estimatedCost":0.0017115000000000003,"inputCost":0.00039230000000000005,"outputCost":0.0013192000000000002,"model":"gemini-2.5-flash-lite"},"performanceBreakdown":[{"name":"File Processing","duration":52,"percentage":0},{"name":"ExamGenie Exam Creation","duration":680,"percentage":3},{"name":"File Cleanup","duration":3,"percentage":0}]}},"metadata":{"timestamp":"2025-10-19T10:51:57.548Z","requestId":"70918595-ceb3-4c0b-844f-ee6cc0d148a3","processingTime":19666},"exam_url":"https://exam-generator-staging.vercel.app/exam/4f2c04de-06c7-46c4-93b6-4d2cdcc1149a","exam_id":"4f2c04de-06c7-46c4-93b6-4d2cdcc1149a","grading_url":"https://exam-generator-staging.vercel.app/grading/4f2c04de-06c7-46c4-93b6-4d2cdcc1149a"}